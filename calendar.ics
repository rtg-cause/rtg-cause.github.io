---
layout: none
permalink: /assets/CAUSE_calendar.ics.liquid
---
{% capture ical_content %}
{% comment %}
Define placeholder for iCalendar's required CR+LF line endings: @@CRLF@@
And the placeholder for line folding: @@FOLD@@
{% endcomment %}
{% assign nl_placeholder = "##NEWLINE##" %}
{% assign fold_char = "##NEWLINE##" %}
{% assign max_len = 75 %}

{% comment %}
-- START ICS CONTENT CAPTURE --
{% endcomment %}
BEGIN:VCALENDAR{{ nl_placeholder }}
VERSION:2.0{{ nl_placeholder }}
PRODID:-//YourSiteName//Calendar//EN{{ nl_placeholder }}
CALSCALE:GREGORIAN{{ nl_placeholder }}
METHOD:PUBLISH{{ nl_placeholder }}
{% for event in site.calendar %}
BEGIN:VEVENT{{ nl_placeholder }}
UID:{{ event.url | absolute_url }}{{ nl_placeholder }}
DTSTAMP:{{ "now" | date: "%Y%m%dT%H%M%SZ" }}{{ nl_placeholder }}
DTSTART:{{ event.start_date | date: "%Y%m%dT%H%M%SZ" }}{{ nl_placeholder }}
DTEND:{{ event.end_date | date: "%Y%m%dT%H%M%SZ" }}{{ nl_placeholder }}
SUMMARY:{% include fold.liquid field=event.title fold_char=fold_char max_len=max_len %}{{ nl_placeholder }}
DESCRIPTION:{% include fold.liquid field=event.description fold_char=fold_char max_len=63 %}{{ nl_placeholder }}
LOCATION:{% include fold.liquid field=event.location fold_char=fold_char max_len=66 %}{{ nl_placeholder }}
{% if event.eventurl %}URL:{% include fold.liquid field=event.eventurl fold_char=fold_char max_len=max_len %}{{ nl_placeholder }}{% endif %}
END:VEVENT{{ nl_placeholder }}
{% endfor %}
END:VCALENDAR
{% endcapture %}
{{ ical_content }}
